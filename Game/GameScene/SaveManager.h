/* *  SaveManager.h *  CCGame * *  Created by linux_wuliqiang@163.com on 2012-08-09. *  Copyright 2012 Beijing. All rights reserved. * *	游戏存档管理 * * */#ifndef __SaveManager_H__#define __SaveManager_H__#include "Base.h"#define SaveManager_SavFileName        	"SnakeClassic.sav"          // 存档名称#define SaveManager_MaxLeve            128                          // 游戏关卡的个数(为了方便以后拓展，最多支持128个)#define SaveManager_Md5Len			64				// md5 存储的长度#define SaveManager_Key             0x558f          // 定义内存加密的 key 值//#define SaveManager_StrDataLen		256				// 每个字符串存储的长度//// 数字类型存储索引//typedef enum//{//	SavNum_Null = 0,//	//	SavNum_Hp,				//	SavNum_Atk,//	SavNum_Speed,//	//	// 其他存储变量 ...//	//	SavNum_End//}SavNumIndex;//////// 字符串类型存储索引//typedef enum//{//	SavStr_Null = 0,//	//	SavStr_Sav1,//	SavStr_Sav2,//	//	// 其他存储变量 ...//	//	SavStr_End//}SavStrIndex;// 定义游戏玩法模式typedef enum{    GameMode_Null = 0,        GameMode_Classic,       // 经典模式    GameMode_Challenge,     // 挑战模式            GameMode_End}GameMode;class SaveManager{public:        SaveManager();    ~SaveManager();        static SaveManager* Instance(void);    public:    void ReadData();    void WriteData();//public:  // set get 方法//	int 	GetNumData(SavNumIndex _savIndex);//	void 	SetNumData(SavNumIndex _savIndex, int _newData);//	const char* 	GetStrData(SavStrIndex _savIndex);//	void 			SetStrData(SavStrIndex _savIndex, const char* _newData);    private: // 异或运算加密        const char*     StrEncription(char* _pchSrc, int _nLen, char _chKey);    int             NumEncription(int* _pNum, char _chKey);	public:  // 游戏存档        int 	m_ScoreCurr[SaveManager_MaxLeve];       // 当前分数 （0号位置，表示经典模式的分数）    int 	m_ScoreMax[SaveManager_MaxLeve];        // 历史最高分 （0号位置，表示经典模式的分数）    public:  // 全局共享变量        GameMode    m_GameMode;    int         m_MapLevelId;       // 挑战模式，选择的关卡id    };		 #endif // __SaveManager_H__